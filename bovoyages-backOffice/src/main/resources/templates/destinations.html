<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valid Destinations</title>
<style>
.errors{
	color: red;
	
}
</style>
</head>
<body>

<h2 >Toutes les destinations actuellement en base de donnée :</h2>

<div th:if="${error}">
<div class="errors">Erreur destination existante : Veuillez saisir une région differente.</div>
</div>
<div> </div>
<table>
   <th:block th:each="destination : ${destinations}">
     <div>  <tr>
         <td th:text="${destination.region}">Région:</td>
         <td th:text="${destination.description}">Description :</td>
         <td> 
      <form th:action="@{destinationinfo}" method="post"><button type="submit">Accéder aux infos</button>
      <input  hidden="" th:value="*{destination.id}" id="id" name="id" ></form>
      <form th:action="@{updatedestination}" method="POST"><button type="submit">Modifier</button>
      <input hidden=""  th:value="*{destination.id}" id="id" name="id" ></form></form>
      <form th:action="@{deletedestination}" method="post"><button type="submit">Supprimer</button>
      <input hidden=""  th:value="*{destination.id}" id="id" name="id" ></form>
      </td>
      </tr>
      
      </div>
   </th:block>
   
</table>
</br>
<div th:if="${error}">
<div class="errors">Erreur</div>
</div>
<h2 id="formulaire1">Formulaire de création d'une destination:</h2>
<form th:action="@{createdestination}" method="post">
<label for="region"> Région :</label><input type="text" th:value="*{region}" placeholder="Région" title="Région" id="region" name="region">
<label for="description"> Description :</label><input type="text" th:value="*{description}"      placeholder="Description" title="Description" id="description " name="description"><button type="submit">Créer destination </button>
</form>

<div th:if="${message}">
		<h2 th:text="${message}"/>
	</div>


<form th:action="@{home}" method="GET">
<button type="submit">Page d'Acceuil</button></form>
</form >
</body>
</html>